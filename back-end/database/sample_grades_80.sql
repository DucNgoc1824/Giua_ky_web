-- Sample grades data với 4 cột điểm theo chuẩn PTIT cho 80 sinh viên
-- 2 lớp: D22CQPT01 (40 sinh viên: ID 2-41), D22CQPT02 (40 sinh viên: ID 42-81)
-- 3 môn học: WEB401 (ID 1), SUB002 (ID 3), SUB003 (ID 4)
USE qlsv;
-- Xóa dữ liệu điểm cũ
DELETE FROM Grades;
-- =============================================================================
-- LỚP D22CQPT01 - 40 SINH VIÊN (student_id từ 2-41)
-- =============================================================================
-- Nhóm 1: 10 sinh viên xuất sắc (A+, A) - ID 2-11
INSERT INTO Grades (
        student_id,
        subject_id,
        semester,
        attendance_score,
        practice_score,
        midterm_score,
        final_score
    )
VALUES (2, 1, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (2, 3, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (2, 4, '2024-1', 9.5, 9.5, 9.5, 10.0),
    (3, 1, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (3, 3, '2024-1', 9.5, 9.0, 9.0, 9.5),
    (3, 4, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (4, 1, '2024-1', 9.5, 9.5, 10.0, 10.0),
    (4, 3, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (4, 4, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (5, 1, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (5, 3, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (5, 4, '2024-1', 9.0, 9.0, 9.0, 9.5),
    (6, 1, '2024-1', 9.5, 9.0, 9.0, 9.5),
    (6, 3, '2024-1', 9.0, 8.5, 9.0, 9.0),
    (6, 4, '2024-1', 9.5, 9.5, 9.5, 10.0),
    (7, 1, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (7, 3, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (7, 4, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (8, 1, '2024-1', 10.0, 10.0, 10.0, 10.0),
    (8, 3, '2024-1', 9.5, 9.5, 9.5, 10.0),
    (8, 4, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (9, 1, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (9, 3, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (9, 4, '2024-1', 9.5, 9.0, 9.0, 9.5),
    (10, 1, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (10, 3, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (10, 4, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (11, 1, '2024-1', 9.0, 9.0, 9.0, 9.5),
    (11, 3, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (11, 4, '2024-1', 9.5, 9.5, 9.5, 10.0);
-- Nhóm 2: 20 sinh viên giỏi - khá (B+, B, A) - ID 12-31
INSERT INTO Grades (
        student_id,
        subject_id,
        semester,
        attendance_score,
        practice_score,
        midterm_score,
        final_score
    )
VALUES (12, 1, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (12, 3, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (12, 4, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (13, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (13, 3, '2024-1', 8.5, 8.0, 8.0, 8.5),
    (13, 4, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (14, 1, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (14, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (14, 4, '2024-1', 8.5, 8.5, 8.5, 9.0),
    (15, 1, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (15, 3, '2024-1', 8.5, 8.0, 8.5, 8.5),
    (15, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (16, 1, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (16, 3, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (16, 4, '2024-1', 8.5, 8.0, 8.5, 8.5),
    (17, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (17, 3, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (17, 4, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (18, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (18, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (18, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (19, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (19, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (19, 4, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (20, 1, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (20, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (20, 4, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (21, 1, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (21, 3, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (21, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (22, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (22, 3, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (22, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (23, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (23, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (23, 4, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (24, 1, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (24, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (24, 4, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (25, 1, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (25, 3, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (25, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (26, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (26, 3, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (26, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (27, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (27, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (27, 4, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (28, 1, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (28, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (28, 4, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (29, 1, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (29, 3, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (29, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (30, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (30, 3, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (30, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (31, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (31, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (31, 4, '2024-1', 8.0, 8.0, 8.5, 8.5);
-- Nhóm 3: 10 sinh viên trung bình (C+, C, B) - ID 32-41
INSERT INTO Grades (
        student_id,
        subject_id,
        semester,
        attendance_score,
        practice_score,
        midterm_score,
        final_score
    )
VALUES (32, 1, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (32, 3, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (32, 4, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (33, 1, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (33, 3, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (33, 4, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (34, 1, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (34, 3, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (34, 4, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (35, 1, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (35, 3, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (35, 4, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (36, 1, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (36, 3, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (36, 4, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (37, 1, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (37, 3, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (37, 4, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (38, 1, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (38, 3, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (38, 4, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (39, 1, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (39, 3, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (39, 4, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (40, 1, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (40, 3, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (40, 4, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (41, 1, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (41, 3, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (41, 4, '2024-1', 6.5, 6.5, 7.0, 7.0);
-- =============================================================================
-- LỚP D22CQPT02 - 40 SINH VIÊN (student_id từ 42-81)
-- =============================================================================
-- Nhóm 1: 10 sinh viên xuất sắc (A+, A) - ID 42-51
INSERT INTO Grades (
        student_id,
        subject_id,
        semester,
        attendance_score,
        practice_score,
        midterm_score,
        final_score
    )
VALUES (42, 1, '2024-1', 9.5, 9.5, 9.5, 10.0),
    (42, 3, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (42, 4, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (43, 1, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (43, 3, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (43, 4, '2024-1', 9.0, 9.0, 9.0, 9.5),
    (44, 1, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (44, 3, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (44, 4, '2024-1', 9.5, 9.5, 9.5, 10.0),
    (45, 1, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (45, 3, '2024-1', 9.5, 9.0, 9.0, 9.5),
    (45, 4, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (46, 1, '2024-1', 10.0, 9.5, 10.0, 10.0),
    (46, 3, '2024-1', 9.5, 9.5, 9.5, 10.0),
    (46, 4, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (47, 1, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (47, 3, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (47, 4, '2024-1', 9.5, 9.0, 9.0, 9.5),
    (48, 1, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (48, 3, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (48, 4, '2024-1', 9.0, 9.0, 9.5, 9.5),
    (49, 1, '2024-1', 9.0, 9.0, 9.0, 9.5),
    (49, 3, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (49, 4, '2024-1', 9.5, 9.5, 9.5, 10.0),
    (50, 1, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (50, 3, '2024-1', 9.0, 9.0, 9.0, 9.5),
    (50, 4, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (51, 1, '2024-1', 9.0, 8.5, 9.0, 9.5),
    (51, 3, '2024-1', 9.5, 9.0, 9.5, 9.5),
    (51, 4, '2024-1', 9.5, 9.0, 9.5, 9.5);
-- Nhóm 2: 20 sinh viên giỏi - khá (B+, B, A) - ID 52-71
INSERT INTO Grades (
        student_id,
        subject_id,
        semester,
        attendance_score,
        practice_score,
        midterm_score,
        final_score
    )
VALUES (52, 1, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (52, 3, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (52, 4, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (53, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (53, 3, '2024-1', 8.5, 8.0, 8.0, 8.5),
    (53, 4, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (54, 1, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (54, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (54, 4, '2024-1', 8.5, 8.5, 8.5, 9.0),
    (55, 1, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (55, 3, '2024-1', 8.5, 8.0, 8.5, 8.5),
    (55, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (56, 1, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (56, 3, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (56, 4, '2024-1', 8.5, 8.0, 8.5, 8.5),
    (57, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (57, 3, '2024-1', 8.5, 8.0, 8.5, 9.0),
    (57, 4, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (58, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (58, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (58, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (59, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (59, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (59, 4, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (60, 1, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (60, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (60, 4, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (61, 1, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (61, 3, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (61, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (62, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (62, 3, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (62, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (63, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (63, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (63, 4, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (64, 1, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (64, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (64, 4, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (65, 1, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (65, 3, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (65, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (66, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (66, 3, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (66, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (67, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (67, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (67, 4, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (68, 1, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (68, 3, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (68, 4, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (69, 1, '2024-1', 8.0, 8.0, 8.5, 8.5),
    (69, 3, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (69, 4, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (70, 1, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (70, 3, '2024-1', 8.0, 8.0, 8.0, 8.5),
    (70, 4, '2024-1', 7.5, 7.5, 8.0, 8.0),
    (71, 1, '2024-1', 8.0, 7.5, 8.0, 8.5),
    (71, 3, '2024-1', 7.5, 7.0, 7.5, 8.0),
    (71, 4, '2024-1', 8.0, 8.0, 8.5, 8.5);
-- Nhóm 3: 10 sinh viên trung bình (C+, C, B) - ID 72-81
INSERT INTO Grades (
        student_id,
        subject_id,
        semester,
        attendance_score,
        practice_score,
        midterm_score,
        final_score
    )
VALUES (72, 1, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (72, 3, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (72, 4, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (73, 1, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (73, 3, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (73, 4, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (74, 1, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (74, 3, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (74, 4, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (75, 1, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (75, 3, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (75, 4, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (76, 1, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (76, 3, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (76, 4, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (77, 1, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (77, 3, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (77, 4, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (78, 1, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (78, 3, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (78, 4, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (79, 1, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (79, 3, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (79, 4, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (80, 1, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (80, 3, '2024-1', 6.5, 6.5, 7.0, 7.0),
    (80, 4, '2024-1', 7.0, 7.0, 7.5, 7.5),
    (81, 1, '2024-1', 6.5, 6.0, 6.5, 7.0),
    (81, 3, '2024-1', 7.0, 6.5, 7.0, 7.5),
    (81, 4, '2024-1', 6.5, 6.5, 7.0, 7.0);
-- =============================================================================
-- THỐNG KÊ VÀ KIỂM TRA
-- =============================================================================
-- Tổng quan
SELECT '✅ Đã tạo điểm cho 80 sinh viên' AS Status,
    COUNT(*) AS 'Tổng bản ghi',
    COUNT(DISTINCT student_id) AS 'Số sinh viên',
    COUNT(DISTINCT subject_id) AS 'Số môn học'
FROM Grades;
-- Phân bố điểm chữ
SELECT letter_grade AS 'Điểm chữ',
    COUNT(*) AS 'Số lượng',
    CONCAT(
        ROUND(
            COUNT(*) * 100.0 / (
                SELECT COUNT(*)
                FROM Grades
            ),
            1
        ),
        '%'
    ) AS 'Tỷ lệ'
FROM Grades
GROUP BY letter_grade
ORDER BY CASE
        letter_grade
        WHEN 'A+' THEN 1
        WHEN 'A' THEN 2
        WHEN 'B+' THEN 3
        WHEN 'B' THEN 4
        WHEN 'C+' THEN 5
        WHEN 'C' THEN 6
        WHEN 'D+' THEN 7
        WHEN 'D' THEN 8
        WHEN 'F' THEN 9
    END;
-- Xem mẫu dữ liệu (10 sinh viên đầu tiên)
SELECT s.student_code,
    c.class_code,
    subj.subject_code,
    g.attendance_score AS CC,
    g.practice_score AS TH,
    g.midterm_score AS GK,
    g.final_score AS CK,
    g.total_score AS Total,
    g.letter_grade AS Grade,
    g.gpa_score AS GPA
FROM Grades g
    JOIN Students s ON g.student_id = s.student_id
    JOIN Classes c ON s.class_id = c.class_id
    JOIN Subjects subj ON g.subject_id = subj.subject_id
WHERE s.student_id <= 11
ORDER BY s.student_code,
    subj.subject_code;